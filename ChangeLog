Changelog

0.9.2 - 20th February 2020
==========================

Fixes

* self$UserFullConfig fix if self$db$users empty

0.9.1 - 19th February 2020
=========================

New

* self$db$Practice provides access to dbo.PRACTICE
* subscription changes
*  self$subscription_db provides access to subscription servers (when open)
*  self$read_subscription_db to read subscription information
*  self$check_subscription to check subscription and date range
*   can 'trigger' self$check_subscription_datechange_trigR
*  self$UserConfigLicense and $UserConfigLicenseR - similar to $UserConfig, includes $LicenseDate and $Identifier

Changes

* private$.UserRestrictions does not collect() (delayed evaluation)
* private$.UserConfig does not collect() (delayed evaluation)
*  private$.UserConfig also does not 'unroll' Locations/Attributes
* $UserConfig includes License, LicenseCheckDate
* private$.identified_user changed to active (self$.identified_user)
*  adopts functionality of match_user function
* improved handling (emptying variables/tables) when databases closed
   or configuration filepath changed

0.8.2 - 24th December 2019
==========================

New

* list_measlesVax (measles vaccine eligibility)

* add self$vaccine_choices - list of available vaccine lists

* add postnatal_list

Bugfix

* default 'chosen' in list_dataQuality corrected

* correction in pregnant_list, allow is.na(ENDDATE) for current pregnancy
  improved date logic


0.8.1 - 18th December 2019
==========================

New

* list_familyHx (data quality method)

* db$familyhistory and db$familyhistorydetail : access to family history
  also db$relationcode - but this is not actually used at this time

Bugfix

* convert ResultValue and BPcode to numeric in db$ReportValues

  also remove prceding "<" and ">" from ResultValue to allow numerical comparison
  against "<" and ">" values.

  these features require a modified version of dbplyr
  * 'as.double' CASTs to DOUBLE, instead of NUMERIC (the latter casts to integers)
  * use TRY_CAST (a T-SQL/Microsoft SQL specific feature) instead of CAST, to
    allow graceful failure to NA instead of errors.


0.8.0 - 12th November 2019
==========================

New

* dataQuality module - list_dataQuality. currently includes list_allergy

  Data quality assessment. Are allergies recorded for the listed patients?

  social history (partial) - list_socialHx

  list of quality choices in $dataQuality_choices

* paste2 - a version of paste which ignores NA, empty strings and character(0)

* addition of db$reactions
  addition of KnownAllergies to db$clinical

0.7.2 - 28th September 2019
===========================

Bugfixes

* add "Invoice" to appointment_status_types

* fix error if empty $contact_type when in $list_contact_count

0.7.1 - 27th September 2019
===========================

Bugfix

* process ReportDate to as.Date() in observeValues at table level
  failure to convert to as.Date will result in invalid dates being compared

  other date fields in other tables also converted to as.Date() at table level

0.7.0 - 21st September 2019
===========================

Breaking changes

* Moved framingham_riskequation to package framinghamRiskEquation
  at https://github.com/DavidPatShuiFong/framinghamRiskEquation

* Moved billings methods to separate package (module)
  at https://github.com/DavidPatShuiFong/dMeasureBillings

* Moved chronic disease management methods (CDM) to separate package (module)
  at https://github.com/DavidPatShuiFong/dMeasureCDM

0.6.0 - 18th September 2019
===========================

New

* Addition of appointment versions of list_qim
  e.g. list_qim_cvdRisk_appointments

Breaking changes

* Move Quality Improvement Measures to separate package (module)
  'dMeasureQIM'

Improvement

* Framingham risk equation function

  Default is now cardiovascular (instead of coronary heart disease) risk

Bugfix

* GPMP R/V in CDM had reversed colours (yellow/green)
  and actions ('Overdue'). Fixed

0.5.0 - 9th September 2019
===========================

Added vignette

* Change billings_list method to list_billings
* Integrates appointments, visits and billing contacts into single view
* Add 'own_billings' active field, if FALSE, then all of the patient's
  billings for the day are shown (not just those attributed to the
  same provider listed for that contact)

* Include 'status' in list_appointments return dataframe

* Fixes to server.delete and server.update methods


0.4.0 - 4th September 2019
==========================

Practice Incentive Program (PIP) Quality Improvement Measures
: lists and reports available for all ten measures

Mammogram added to cancer screening
Cervical screening (including Pap) added to cancer screening
